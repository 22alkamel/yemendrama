{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///D:/yemendrama/yemendrama/services/category.service.ts"],"sourcesContent":["import api from '@/lib/api';\r\n\r\nexport const getCategories = () => api.get(\"/categories\"); // ‚úÖ GET ŸÉŸÑ ÿßŸÑÿ™ÿµŸÜŸäŸÅÿßÿ™\r\nexport const createCategory = (data: any) => api.post(\"/categories\", data); // ÿ•ŸÜÿ¥ÿßÿ°\r\nexport const updateCategory = (id: number, data: any) => api.put(`/categories/${id}`, data); // ÿ™ÿπÿØŸäŸÑ\r\nexport const deleteCategory = (id: number) => api.delete(`/categories/${id}`); // ÿ≠ÿ∞ŸÅ"],"names":[],"mappings":";;;;;;;;;;AAAA;;AAEO,MAAM,gBAAgB,IAAM,qHAAG,CAAC,GAAG,CAAC,gBAAgB,qBAAqB;AACzE,MAAM,iBAAiB,CAAC,OAAc,qHAAG,CAAC,IAAI,CAAC,eAAe,OAAO,QAAQ;AAC7E,MAAM,iBAAiB,CAAC,IAAY,OAAc,qHAAG,CAAC,GAAG,CAAC,CAAC,YAAY,EAAE,IAAI,EAAE,OAAO,QAAQ;AAC9F,MAAM,iBAAiB,CAAC,KAAe,qHAAG,CAAC,MAAM,CAAC,CAAC,YAAY,EAAE,IAAI,GAAG,MAAM"}},
    {"offset": {"line": 24, "column": 0}, "map": {"version":3,"sources":["file:///D:/yemendrama/yemendrama/components/admin/AdminLayout.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState, ReactNode } from \"react\";\r\nimport { useAuth } from \"@/context/AuthContext\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport {\r\n  RiDashboardFill,\r\n  RiUser3Fill,\r\n  RiMovie2Fill,\r\n  RiLogoutBoxRFill,\r\n} from \"react-icons/ri\";\r\n\r\ninterface AdminLayoutProps {\r\n  children: ReactNode;\r\n}\r\n\r\nexport default function AdminLayout({ children }: AdminLayoutProps) {\r\n  const { user, loading, logout } = useAuth();\r\n  const router = useRouter();\r\n  const [sidebarOpen, setSidebarOpen] = useState(false);\r\n\r\n  // ŸÇÿßÿ¶ŸÖÿ© Sidebar\r\n  const menu = [\r\n    {\r\n      key: \"dashboard\",\r\n      label: \"ŸÑŸàÿ≠ÿ© ÿßŸÑÿ™ÿ≠ŸÉŸÖ\",\r\n      icon: <RiDashboardFill />,\r\n      href: \"/admin\",\r\n    },\r\n    {\r\n      key: \"users\",\r\n      label: \"ÿßŸÑŸÖÿ≥ÿ™ÿÆÿØŸÖŸäŸÜ\",\r\n      icon: <RiUser3Fill />,\r\n      href: \"/admin/users\",\r\n    },\r\n    {\r\n      key: \"contents\",\r\n      label: \"ÿßŸÑŸÖÿ≠ÿ™ŸàŸâ\",\r\n      icon: <RiMovie2Fill />,\r\n      href: \"/admin/contents\",\r\n    },\r\n    {\r\n      key: \"categories\",\r\n      label: \"ÿ™ÿµŸÜŸäŸÅÿßÿ™ ÿßŸÑŸÖÿ≠ÿ™ŸàŸâ\",\r\n      icon: <RiMovie2Fill />,\r\n      href: \"/admin/categories\",\r\n    },\r\n    {\r\n      key: \"news\",\r\n      label: \"ÿßŸÑÿßÿÆÿ®ÿßÿ±\",\r\n      icon: <RiMovie2Fill />,\r\n      href: \"/admin/news\",\r\n    },\r\n    {\r\n      key: \"categorie_news\",\r\n      label: \"ÿ™ÿµŸÜŸäŸÅÿßÿ™ ÿßŸÑÿßÿÆÿ®ÿßÿ±\",\r\n      icon: <RiMovie2Fill />,\r\n      href: \"/admin/categorienews\",\r\n    }, // ‚úÖ ŸáŸÜÿß ÿ£ÿ∂ŸÅŸÜÿß ÿßŸÑÿ™ÿµŸÜŸäŸÅÿßÿ™\r\n  ];\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"flex items-center justify-center h-screen bg-black text-white\">\r\n        <p className=\"text-xl animate-pulse\">ÿ¨ÿßÿ±Ÿç ÿ™ÿ≠ŸÖŸäŸÑ ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™...</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const roles = user?.roles?.map((r: any) => r.name) || [];\r\n  if (!roles.includes(\"admin\")) {\r\n    return (\r\n      <div className=\"flex items-center justify-center h-screen bg-black text-red-500\">\r\n        <p className=\"text-xl\">üö´ ÿ∫Ÿäÿ± ŸÖÿµÿ±ÿ≠ ÿ®ÿßŸÑÿØÿÆŸàŸÑ</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen flex bg-black text-white\" dir=\"rtl\">\r\n      {/* Sidebar */}\r\n      <div\r\n        className={`fixed top-0 right-0 z-20 w-64 min-h-screen bg-gray-900 shadow-lg transform transition-transform duration-300 md:translate-x-0 ${\r\n          sidebarOpen ? \"translate-x-0\" : \"translate-x-full md:translate-x-0\"\r\n        }`}\r\n      >\r\n        <div className=\"flex items-center justify-between p-4 border-b border-gray-800\">\r\n          <h2 className=\"text-2xl font-bold text-red-600\">ŸÑŸàÿ≠Ÿá ÿßŸÑÿ™ÿ≠ŸÉŸÖ</h2>\r\n          <button\r\n            className=\"md:hidden text-white text-2xl\"\r\n            onClick={() => setSidebarOpen(false)}\r\n          >\r\n            √ó\r\n          </button>\r\n        </div>\r\n\r\n        <ul className=\"mt-6 space-y-2\">\r\n          {menu.map((item) => (\r\n            <li key={item.key}>\r\n              <button\r\n                onClick={() => router.push(item.href)}\r\n                className=\"flex items-center w-full px-4 py-3 text-right gap-3 rounded hover:bg-red-600 transition\"\r\n              >\r\n                {item.icon}\r\n                <span>{item.label}</span>\r\n              </button>\r\n            </li>\r\n          ))}\r\n          <li>\r\n            <button\r\n              onClick={logout}\r\n              className=\"flex items-center w-full px-4 py-3 gap-3 rounded hover:bg-red-600 transition mt-6 text-red-400 hover:text-white justify-start\"\r\n            >\r\n              <RiLogoutBoxRFill />\r\n              ÿ™ÿ≥ÿ¨ŸäŸÑ ÿßŸÑÿÆÿ±Ÿàÿ¨\r\n            </button>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n\r\n      {/* Overlay ŸÑŸÑŸÖŸàÿ®ÿßŸäŸÑ */}\r\n      {sidebarOpen && (\r\n        <div\r\n          className=\"fixed inset-0 bg-black/50 z-10 md:hidden\"\r\n          onClick={() => setSidebarOpen(false)}\r\n        ></div>\r\n      )}\r\n\r\n      {/* Main Content */}\r\n      <div className=\"flex-1 mr-0 md:mr-64 p-6 transition-all duration-300\">\r\n        {/* Mobile menu button */}\r\n        <button\r\n          className=\"md:hidden mb-4 px-3 py-2 bg-red-600 rounded text-white\"\r\n          onClick={() => setSidebarOpen(true)}\r\n        >\r\n          ‚ò∞ ÿßŸÑŸÇÿßÿ¶ŸÖÿ©\r\n        </button>\r\n\r\n        {children}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AALA;;;;;;AAgBe,SAAS,YAAY,EAAE,QAAQ,EAAoB;IAChE,MAAM,EAAE,IAAI,EAAE,OAAO,EAAE,MAAM,EAAE,GAAG,IAAA,kIAAO;IACzC,MAAM,SAAS,IAAA,+IAAS;IACxB,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,iNAAQ,EAAC;IAE/C,gBAAgB;IAChB,MAAM,OAAO;QACX;YACE,KAAK;YACL,OAAO;YACP,oBAAM,8OAAC,iKAAe;;;;;YACtB,MAAM;QACR;QACA;YACE,KAAK;YACL,OAAO;YACP,oBAAM,8OAAC,6JAAW;;;;;YAClB,MAAM;QACR;QACA;YACE,KAAK;YACL,OAAO;YACP,oBAAM,8OAAC,8JAAY;;;;;YACnB,MAAM;QACR;QACA;YACE,KAAK;YACL,OAAO;YACP,oBAAM,8OAAC,8JAAY;;;;;YACnB,MAAM;QACR;QACA;YACE,KAAK;YACL,OAAO;YACP,oBAAM,8OAAC,8JAAY;;;;;YACnB,MAAM;QACR;QACA;YACE,KAAK;YACL,OAAO;YACP,oBAAM,8OAAC,8JAAY;;;;;YACnB,MAAM;QACR;KACD;IAED,IAAI,SAAS;QACX,qBACE,8OAAC;YAAI,WAAU;sBACb,cAAA,8OAAC;gBAAE,WAAU;0BAAwB;;;;;;;;;;;IAG3C;IAEA,MAAM,QAAQ,MAAM,OAAO,IAAI,CAAC,IAAW,EAAE,IAAI,KAAK,EAAE;IACxD,IAAI,CAAC,MAAM,QAAQ,CAAC,UAAU;QAC5B,qBACE,8OAAC;YAAI,WAAU;sBACb,cAAA,8OAAC;gBAAE,WAAU;0BAAU;;;;;;;;;;;IAG7B;IAEA,qBACE,8OAAC;QAAI,WAAU;QAAwC,KAAI;;0BAEzD,8OAAC;gBACC,WAAW,CAAC,8HAA8H,EACxI,cAAc,kBAAkB,qCAChC;;kCAEF,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAG,WAAU;0CAAkC;;;;;;0CAChD,8OAAC;gCACC,WAAU;gCACV,SAAS,IAAM,eAAe;0CAC/B;;;;;;;;;;;;kCAKH,8OAAC;wBAAG,WAAU;;4BACX,KAAK,GAAG,CAAC,CAAC,qBACT,8OAAC;8CACC,cAAA,8OAAC;wCACC,SAAS,IAAM,OAAO,IAAI,CAAC,KAAK,IAAI;wCACpC,WAAU;;4CAET,KAAK,IAAI;0DACV,8OAAC;0DAAM,KAAK,KAAK;;;;;;;;;;;;mCANZ,KAAK,GAAG;;;;;0CAUnB,8OAAC;0CACC,cAAA,8OAAC;oCACC,SAAS;oCACT,WAAU;;sDAEV,8OAAC,kKAAgB;;;;;wCAAG;;;;;;;;;;;;;;;;;;;;;;;;YAQ3B,6BACC,8OAAC;gBACC,WAAU;gBACV,SAAS,IAAM,eAAe;;;;;;0BAKlC,8OAAC;gBAAI,WAAU;;kCAEb,8OAAC;wBACC,WAAU;wBACV,SAAS,IAAM,eAAe;kCAC/B;;;;;;oBAIA;;;;;;;;;;;;;AAIT"}},
    {"offset": {"line": 273, "column": 0}, "map": {"version":3,"sources":["file:///D:/yemendrama/yemendrama/app/admin/categories/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport {\r\n  createCategory,\r\n  deleteCategory,\r\n  getCategories,\r\n  updateCategory,\r\n} from \"@/services/category.service\";\r\nimport { useEffect, useState } from \"react\";\r\nimport AdminLayout from \"@/components/admin/AdminLayout\";\r\n\r\nexport default function AdminCategories() {\r\n  const [categories, setCategories] = useState<any[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [name, setName] = useState(\"\");\r\n  const [type, setType] = useState(\"genre\");\r\n  const [editingId, setEditingId] = useState<number | null>(null);\r\n\r\n  const fetchCategories = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const res = await getCategories();\r\n\r\n      // ÿ•ÿ∞ÿß ŸÉÿßŸÜ res.data.data ŸáŸà ÿßŸÑŸÖÿµŸÅŸàŸÅÿ© ÿßŸÑÿ≠ŸÇŸäŸÇŸäÿ©\r\n      const categoriesArray = Array.isArray(res.data)\r\n        ? res.data\r\n        : res.data.data;\r\n\r\n      setCategories(categoriesArray || []);\r\n    } catch (err) {\r\n      console.error(err);\r\n      setCategories([]);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchCategories();\r\n  }, []);\r\n\r\n  const handleCreateOrUpdate = async () => {\r\n    if (editingId) {\r\n      // ÿ™ÿπÿØŸäŸÑ\r\n      await updateCategory(editingId, { name, type });\r\n      setEditingId(null);\r\n    } else {\r\n      // ÿ•ŸÜÿ¥ÿßÿ°\r\n      await createCategory({ name, type });\r\n    }\r\n    setName(\"\");\r\n    setType(\"genre\");\r\n    fetchCategories();\r\n  };\r\n\r\n  const handleEdit = (cat: any) => {\r\n    setName(cat.name);\r\n    setType(cat.type);\r\n    setEditingId(cat.id);\r\n  };\r\n\r\n  const handleDelete = async (id: number) => {\r\n    if (!confirm(\"ŸáŸÑ ÿ£ŸÜÿ™ ŸÖÿ™ÿ£ŸÉÿØ ŸÖŸÜ ÿßŸÑÿ≠ÿ∞ŸÅÿü\")) return;\r\n    await deleteCategory(id);\r\n    fetchCategories();\r\n  };\r\n\r\n  return (\r\n    <AdminLayout>\r\n      <div className=\"p-6\">\r\n        <h2 className=\"text-2xl font-bold mb-4\">ÿ•ÿØÿßÿ±ÿ© ÿßŸÑÿ™ÿµŸÜŸäŸÅÿßÿ™</h2>\r\n\r\n        {/* ÿ•ÿ∂ÿßŸÅÿ© / ÿ™ÿπÿØŸäŸÑ */}\r\n        <div className=\"flex gap-2 mb-6\">\r\n          <input\r\n            placeholder=\"ÿßÿ≥ŸÖ ÿßŸÑÿ™ÿµŸÜŸäŸÅ\"\r\n            value={name}\r\n            onChange={(e) => setName(e.target.value)}\r\n            className=\"p-2 rounded bg-gray-700 text-white\"\r\n          />\r\n          <select\r\n            value={type}\r\n            onChange={(e) => setType(e.target.value)}\r\n            className=\"p-2 rounded bg-gray-700 text-white\"\r\n          >\r\n            <option value=\"genre\">ŸÜŸàÿπ</option>\r\n            <option value=\"topic\">ŸÖŸàÿ∂Ÿàÿπ</option>\r\n            <option value=\"age\">ÿßŸÑŸÅÿ¶ÿ© ÿßŸÑÿπŸÖÿ±Ÿäÿ©</option>\r\n          </select>\r\n          <button\r\n            onClick={handleCreateOrUpdate}\r\n            className=\"bg-red-600 px-4 rounded text-white\"\r\n          >\r\n            {editingId ? \"ÿ™ÿπÿØŸäŸÑ\" : \"ÿ•ÿ∂ÿßŸÅÿ©\"}\r\n          </button>\r\n          {editingId && (\r\n            <button\r\n              onClick={() => {\r\n                setEditingId(null);\r\n                setName(\"\");\r\n                setType(\"genre\");\r\n              }}\r\n              className=\"bg-gray-600 px-4 rounded text-white\"\r\n            >\r\n              ÿ•ŸÑÿ∫ÿßÿ°\r\n            </button>\r\n          )}\r\n        </div>\r\n\r\n        {/* ÿ¨ÿØŸàŸÑ ÿßŸÑÿ™ÿµŸÜŸäŸÅÿßÿ™ */}\r\n        {loading ? (\r\n          <p>ÿ¨ÿßÿ±Ÿç ÿßŸÑÿ™ÿ≠ŸÖŸäŸÑ...</p>\r\n        ) : (\r\n          <table className=\"min-w-full bg-gray-800 text-white rounded-lg \">\r\n            <thead className=\"text-right\">\r\n              <tr>\r\n                <th className=\"p-2\">#</th>\r\n                <th className=\"p-2\">ÿßŸÑÿßÿ≥ŸÖ</th>\r\n                <th className=\"p-2\">ÿßŸÑŸÜŸàÿπ</th>\r\n                <th className=\"p-2\">ÿßŸÑÿ•ÿ¨ÿ±ÿßÿ°ÿßÿ™</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {categories.map((cat, idx) => (\r\n                <tr key={cat.id} className=\"border-t border-gray-700\">\r\n                  <td className=\"p-2\">{idx + 1}</td>\r\n                  <td className=\"p-2\">{cat.name}</td>\r\n                  <td className=\"p-2\">{cat.type}</td>\r\n                  <td className=\"p-2 flex gap-2\">\r\n                    <button\r\n                      onClick={() => handleEdit(cat)}\r\n                      className=\"bg-yellow-500 px-2 rounded\"\r\n                    >\r\n                      ÿ™ÿπÿØŸäŸÑ\r\n                    </button>\r\n                    <button\r\n                      onClick={() => handleDelete(cat.id)}\r\n                      className=\"bg-red-600 px-2 rounded\"\r\n                    >\r\n                      ÿ≠ÿ∞ŸÅ\r\n                    </button>\r\n                  </td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n        )}\r\n      </div>\r\n    </AdminLayout>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}}]
}