{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///D:/yemendrama/yemendrama/app/admin/categories/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect, useState } from \"react\";\r\n\r\n\r\nexport default function AdminCategories() {\r\n  const [categories, setCategories] = useState<any[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [name, setName] = useState(\"\");\r\n  const [type, setType] = useState(\"genre\");\r\n\r\n  const fetchCategories = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const res = await getCategories();\r\n      setCategories(res.data);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchCategories();\r\n  }, []);\r\n\r\n  const handleCreate = async () => {\r\n    await createCategory({ name, type });\r\n    setName(\"\");\r\n    setType(\"genre\");\r\n    fetchCategories();\r\n  };\r\n\r\n  const handleDelete = async (id: number) => {\r\n    if (!confirm(\"هل أنت متأكد من الحذف؟\")) return;\r\n    await deleteCategory(id);\r\n    fetchCategories();\r\n  };\r\n\r\n  return (\r\n    <div className=\"p-6\">\r\n      <h2 className=\"text-2xl font-bold mb-4\">إدارة التصنيفات</h2>\r\n\r\n      {/* إنشاء تصنيف جديد */}\r\n      <div className=\"flex gap-2 mb-6\">\r\n        <input\r\n          placeholder=\"اسم التصنيف\"\r\n          value={name}\r\n          onChange={(e) => setName(e.target.value)}\r\n          className=\"p-2 rounded bg-gray-700 text-white\"\r\n        />\r\n        <select\r\n          value={type}\r\n          onChange={(e) => setType(e.target.value)}\r\n          className=\"p-2 rounded bg-gray-700 text-white\"\r\n        >\r\n          <option value=\"genre\">نوع</option>\r\n          <option value=\"topic\">موضوع</option>\r\n          <option value=\"age\">الفئة العمرية</option>\r\n        </select>\r\n        <button onClick={handleCreate} className=\"bg-red-600 px-4 rounded text-white\">إضافة</button>\r\n      </div>\r\n\r\n      {/* جدول التصنيفات */}\r\n      {loading ? (\r\n        <p>جارٍ التحميل...</p>\r\n      ) : (\r\n        <table className=\"min-w-full bg-gray-800 text-white rounded-lg\">\r\n          <thead>\r\n            <tr>\r\n              <th className=\"p-2\">#</th>\r\n              <th className=\"p-2\">الاسم</th>\r\n              <th className=\"p-2\">النوع</th>\r\n              <th className=\"p-2\">الإجراءات</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {categories.map((cat, idx) => (\r\n              <tr key={cat.id} className=\"border-t border-gray-700\">\r\n                <td className=\"p-2\">{idx + 1}</td>\r\n                <td className=\"p-2\">{cat.name}</td>\r\n                <td className=\"p-2\">{cat.type}</td>\r\n                <td className=\"p-2\">\r\n                  <button\r\n                    onClick={() => handleDelete(cat.id)}\r\n                    className=\"bg-red-600 px-2 rounded\"\r\n                  >\r\n                    حذف\r\n                  </button>\r\n                </td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAKe,SAAS;IACtB,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,iNAAQ,EAAQ,EAAE;IACtD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IACvC,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,iNAAQ,EAAC;IACjC,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,iNAAQ,EAAC;IAEjC,MAAM,kBAAkB;QACtB,WAAW;QACX,IAAI;YACF,MAAM,MAAM,MAAM;YAClB,cAAc,IAAI,IAAI;QACxB,SAAU;YACR,WAAW;QACb;IACF;IAEA,IAAA,kNAAS,EAAC;QACR;IACF,GAAG,EAAE;IAEL,MAAM,eAAe;QACnB,MAAM,eAAe;YAAE;YAAM;QAAK;QAClC,QAAQ;QACR,QAAQ;QACR;IACF;IAEA,MAAM,eAAe,OAAO;QAC1B,IAAI,CAAC,QAAQ,2BAA2B;QACxC,MAAM,eAAe;QACrB;IACF;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAG,WAAU;0BAA0B;;;;;;0BAGxC,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBACC,aAAY;wBACZ,OAAO;wBACP,UAAU,CAAC,IAAM,QAAQ,EAAE,MAAM,CAAC,KAAK;wBACvC,WAAU;;;;;;kCAEZ,8OAAC;wBACC,OAAO;wBACP,UAAU,CAAC,IAAM,QAAQ,EAAE,MAAM,CAAC,KAAK;wBACvC,WAAU;;0CAEV,8OAAC;gCAAO,OAAM;0CAAQ;;;;;;0CACtB,8OAAC;gCAAO,OAAM;0CAAQ;;;;;;0CACtB,8OAAC;gCAAO,OAAM;0CAAM;;;;;;;;;;;;kCAEtB,8OAAC;wBAAO,SAAS;wBAAc,WAAU;kCAAqC;;;;;;;;;;;;YAI/E,wBACC,8OAAC;0BAAE;;;;;qCAEH,8OAAC;gBAAM,WAAU;;kCACf,8OAAC;kCACC,cAAA,8OAAC;;8CACC,8OAAC;oCAAG,WAAU;8CAAM;;;;;;8CACpB,8OAAC;oCAAG,WAAU;8CAAM;;;;;;8CACpB,8OAAC;oCAAG,WAAU;8CAAM;;;;;;8CACpB,8OAAC;oCAAG,WAAU;8CAAM;;;;;;;;;;;;;;;;;kCAGxB,8OAAC;kCACE,WAAW,GAAG,CAAC,CAAC,KAAK,oBACpB,8OAAC;gCAAgB,WAAU;;kDACzB,8OAAC;wCAAG,WAAU;kDAAO,MAAM;;;;;;kDAC3B,8OAAC;wCAAG,WAAU;kDAAO,IAAI,IAAI;;;;;;kDAC7B,8OAAC;wCAAG,WAAU;kDAAO,IAAI,IAAI;;;;;;kDAC7B,8OAAC;wCAAG,WAAU;kDACZ,cAAA,8OAAC;4CACC,SAAS,IAAM,aAAa,IAAI,EAAE;4CAClC,WAAU;sDACX;;;;;;;;;;;;+BARI,IAAI,EAAE;;;;;;;;;;;;;;;;;;;;;;AAmB7B"}}]
}