{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 18, "column": 0}, "map": {"version":3,"sources":["file:///D:/yemendrama/yemendrama/app/details/%5Btype%5D/%5Bid%5D/DetailsClient.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/app/details/[type]/[id]/DetailsClient.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/app/details/[type]/[id]/DetailsClient.tsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAA6S,GAC1U,2EACA","ignoreList":[0]}},
    {"offset": {"line": 32, "column": 0}, "map": {"version":3,"sources":["file:///D:/yemendrama/yemendrama/app/details/%5Btype%5D/%5Bid%5D/DetailsClient.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/app/details/[type]/[id]/DetailsClient.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/app/details/[type]/[id]/DetailsClient.tsx\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAAyR,GACtT,uDACA","ignoreList":[0]}},
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 54, "column": 0}, "map": {"version":3,"sources":["file:///D:/yemendrama/yemendrama/app/details/%5Btype%5D/%5Bid%5D/page.tsx"],"sourcesContent":["import DetailsClient from \"./DetailsClient\";\r\nimport { Content } from \"../../../../types/content\";\r\nimport { Actor } from \"../../../../models/actortype\";\r\n\r\ninterface DetailsPageProps {\r\n  params: { type: string; id: string } | Promise<{ type: string; id: string }>;\r\n}\r\n\r\nexport default async function DetailsPage(props: DetailsPageProps) {\r\n  const { params } = props;\r\n  const { type, id } = \"then\" in params ? await params : params; // يدعم Promise أو كائن عادي\r\n\r\n  try {\r\n    const res = await fetch(`http://localhost:8000/api/v1/contents`, {\r\n      cache: \"no-store\",\r\n      // إذا احتجت توكن:\r\n      // headers: {\r\n      //   Authorization: `Bearer ${process.env.API_TOKEN}`,\r\n      // },\r\n    });\r\n\r\n    console.log(\"Response status:\", res.status);\r\n\r\n    if (!res.ok) {\r\n      console.error(\"API returned error:\", res.statusText);\r\n      return (\r\n        <p className=\"text-white text-center mt-20\">المحتوى غير موجود</p>\r\n      );\r\n    }\r\n\r\n    const data: { data: Content[] } = await res.json();\r\n    console.log(\"API response:\", data);\r\n\r\n    // البحث عن العنصر المناسب حسب UUID\r\n    const show = data.data.find((item) => item.uuid === id);\r\n\r\n    if (!show) {\r\n      console.error(\"Content not found\");\r\n      return (\r\n        <p className=\"text-white text-center mt-20\">المحتوى غير موجود</p>\r\n      );\r\n    }\r\n\r\n    // الأعمال المشابهة (مؤقت، لو تريد جلبها من API حسب النوع أو التصنيف)\r\n    const similarWorks: Content[] = data.data.filter(\r\n      (item) => item.uuid !== show.uuid && item.type === show.type\r\n    );\r\n\r\n    const cast: Actor[] = []; // فارغ حاليا\r\n\r\n    return (\r\n      <DetailsClient\r\n        show={show}\r\n        type={type}\r\n        similarWorks={similarWorks}\r\n        cast={cast}\r\n        // producer={show.producer}\r\n      />\r\n    );\r\n  } catch (err) {\r\n    console.error(\"Fetch error:\", err);\r\n    return (\r\n      <p className=\"text-white text-center mt-20\">\r\n        حدث خطأ أثناء جلب المحتوى\r\n      </p>\r\n    );\r\n  }\r\n}\r\n"],"names":[],"mappings":";;;;;AAAA;;;AAQe,eAAe,YAAY,KAAuB;IAC/D,MAAM,EAAE,MAAM,EAAE,GAAG;IACnB,MAAM,EAAE,IAAI,EAAE,EAAE,EAAE,GAAG,UAAU,SAAS,MAAM,SAAS,QAAQ,4BAA4B;IAE3F,IAAI;QACF,MAAM,MAAM,MAAM,MAAM,CAAC,qCAAqC,CAAC,EAAE;YAC/D,OAAO;QAKT;QAEA,QAAQ,GAAG,CAAC,oBAAoB,IAAI,MAAM;QAE1C,IAAI,CAAC,IAAI,EAAE,EAAE;YACX,QAAQ,KAAK,CAAC,uBAAuB,IAAI,UAAU;YACnD,qBACE,8OAAC;gBAAE,WAAU;0BAA+B;;;;;;QAEhD;QAEA,MAAM,OAA4B,MAAM,IAAI,IAAI;QAChD,QAAQ,GAAG,CAAC,iBAAiB;QAE7B,mCAAmC;QACnC,MAAM,OAAO,KAAK,IAAI,CAAC,IAAI,CAAC,CAAC,OAAS,KAAK,IAAI,KAAK;QAEpD,IAAI,CAAC,MAAM;YACT,QAAQ,KAAK,CAAC;YACd,qBACE,8OAAC;gBAAE,WAAU;0BAA+B;;;;;;QAEhD;QAEA,qEAAqE;QACrE,MAAM,eAA0B,KAAK,IAAI,CAAC,MAAM,CAC9C,CAAC,OAAS,KAAK,IAAI,KAAK,KAAK,IAAI,IAAI,KAAK,IAAI,KAAK,KAAK,IAAI;QAG9D,MAAM,OAAgB,EAAE,EAAE,aAAa;QAEvC,qBACE,8OAAC,iKAAa;YACZ,MAAM;YACN,MAAM;YACN,cAAc;YACd,MAAM;;;;;;IAIZ,EAAE,OAAO,KAAK;QACZ,QAAQ,KAAK,CAAC,gBAAgB;QAC9B,qBACE,8OAAC;YAAE,WAAU;sBAA+B;;;;;;IAIhD;AACF"}}]
}