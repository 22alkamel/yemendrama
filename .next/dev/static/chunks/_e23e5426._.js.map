{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///D:/yemendrama/yemendrama/components/admin/AdminLayout.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState, ReactNode } from \"react\";\r\nimport { useAuth } from \"@/context/AuthContext\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport {\r\n  RiDashboardFill,\r\n  RiUser3Fill,\r\n  RiMovie2Fill,\r\n  RiLogoutBoxRFill,\r\n} from \"react-icons/ri\";\r\n\r\ninterface AdminLayoutProps {\r\n  children: ReactNode;\r\n}\r\n\r\nexport default function AdminLayout({ children }: AdminLayoutProps) {\r\n  const { user, loading, logout } = useAuth();\r\n  const router = useRouter();\r\n  const [sidebarOpen, setSidebarOpen] = useState(false);\r\n\r\n  // ูุงุฆูุฉ Sidebar\r\n  const menu = [\r\n    {\r\n      key: \"dashboard\",\r\n      label: \"ููุญุฉ ุงูุชุญูู\",\r\n      icon: <RiDashboardFill />,\r\n      href: \"/admin\",\r\n    },\r\n    {\r\n      key: \"users\",\r\n      label: \"ุงููุณุชุฎุฏููู\",\r\n      icon: <RiUser3Fill />,\r\n      href: \"/admin/users\",\r\n    },\r\n    {\r\n      key: \"contents\",\r\n      label: \"ุงููุญุชูู\",\r\n      icon: <RiMovie2Fill />,\r\n      href: \"/admin/contents\",\r\n    },\r\n    {\r\n      key: \"categories\",\r\n      label: \"ุชุตูููุงุช ุงููุญุชูู\",\r\n      icon: <RiMovie2Fill />,\r\n      href: \"/admin/categories\",\r\n    },\r\n    {\r\n      key: \"news\",\r\n      label: \"ุงูุงุฎุจุงุฑ\",\r\n      icon: <RiMovie2Fill />,\r\n      href: \"/admin/news\",\r\n    },\r\n    {\r\n      key: \"categorie_news\",\r\n      label: \"ุชุตูููุงุช ุงูุงุฎุจุงุฑ\",\r\n      icon: <RiMovie2Fill />,\r\n      href: \"/admin/newscategories\",\r\n    }, // โ ููุง ุฃุถููุง ุงูุชุตูููุงุช\r\n  ];\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"flex items-center justify-center h-screen bg-black text-white\">\r\n        <p className=\"text-xl animate-pulse\">ุฌุงุฑู ุชุญููู ุงูุจูุงูุงุช...</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const roles = user?.roles?.map((r: any) => r.name) || [];\r\n  if (!roles.includes(\"admin\")) {\r\n    return (\r\n      <div className=\"flex items-center justify-center h-screen bg-black text-red-500\">\r\n        <p className=\"text-xl\">๐ซ ุบูุฑ ูุตุฑุญ ุจุงูุฏุฎูู</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen flex bg-black text-white\" dir=\"rtl\">\r\n      {/* Sidebar */}\r\n      <div\r\n        className={`fixed top-0 right-0 z-20 w-64 min-h-screen bg-gray-900 shadow-lg transform transition-transform duration-300 md:translate-x-0 ${\r\n          sidebarOpen ? \"translate-x-0\" : \"translate-x-full md:translate-x-0\"\r\n        }`}\r\n      >\r\n        <div className=\"flex items-center justify-between p-4 border-b border-gray-800\">\r\n          <h2 className=\"text-2xl font-bold text-red-600\">ููุญู ุงูุชุญูู</h2>\r\n          <button\r\n            className=\"md:hidden text-white text-2xl\"\r\n            onClick={() => setSidebarOpen(false)}\r\n          >\r\n            ร\r\n          </button>\r\n        </div>\r\n\r\n        <ul className=\"mt-6 space-y-2\">\r\n          {menu.map((item) => (\r\n            <li key={item.key}>\r\n              <button\r\n                onClick={() => router.push(item.href)}\r\n                className=\"flex items-center w-full px-4 py-3 text-right gap-3 rounded hover:bg-red-600 transition\"\r\n              >\r\n                {item.icon}\r\n                <span>{item.label}</span>\r\n              </button>\r\n            </li>\r\n          ))}\r\n          <li>\r\n            <button\r\n              onClick={logout}\r\n              className=\"flex items-center w-full px-4 py-3 gap-3 rounded hover:bg-red-600 transition mt-6 text-red-400 hover:text-white justify-start\"\r\n            >\r\n              <RiLogoutBoxRFill />\r\n              ุชุณุฌูู ุงูุฎุฑูุฌ\r\n            </button>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n\r\n      {/* Overlay ููููุจุงูู */}\r\n      {sidebarOpen && (\r\n        <div\r\n          className=\"fixed inset-0 bg-black/50 z-10 md:hidden\"\r\n          onClick={() => setSidebarOpen(false)}\r\n        ></div>\r\n      )}\r\n\r\n      {/* Main Content */}\r\n      <div className=\"flex-1 mr-0 md:mr-64 p-6 transition-all duration-300\">\r\n        {/* Mobile menu button */}\r\n        <button\r\n          className=\"md:hidden mb-4 px-3 py-2 bg-red-600 rounded text-white\"\r\n          onClick={() => setSidebarOpen(true)}\r\n        >\r\n          โฐ ุงููุงุฆูุฉ\r\n        </button>\r\n\r\n        {children}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;;;AALA;;;;;AAgBe,SAAS,YAAY,EAAE,QAAQ,EAAoB;;IAChE,MAAM,EAAE,IAAI,EAAE,OAAO,EAAE,MAAM,EAAE,GAAG,IAAA,qIAAO;IACzC,MAAM,SAAS,IAAA,kJAAS;IACxB,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,yKAAQ,EAAC;IAE/C,gBAAgB;IAChB,MAAM,OAAO;QACX;YACE,KAAK;YACL,OAAO;YACP,oBAAM,6LAAC,oKAAe;;;;;YACtB,MAAM;QACR;QACA;YACE,KAAK;YACL,OAAO;YACP,oBAAM,6LAAC,gKAAW;;;;;YAClB,MAAM;QACR;QACA;YACE,KAAK;YACL,OAAO;YACP,oBAAM,6LAAC,iKAAY;;;;;YACnB,MAAM;QACR;QACA;YACE,KAAK;YACL,OAAO;YACP,oBAAM,6LAAC,iKAAY;;;;;YACnB,MAAM;QACR;QACA;YACE,KAAK;YACL,OAAO;YACP,oBAAM,6LAAC,iKAAY;;;;;YACnB,MAAM;QACR;QACA;YACE,KAAK;YACL,OAAO;YACP,oBAAM,6LAAC,iKAAY;;;;;YACnB,MAAM;QACR;KACD;IAED,IAAI,SAAS;QACX,qBACE,6LAAC;YAAI,WAAU;sBACb,cAAA,6LAAC;gBAAE,WAAU;0BAAwB;;;;;;;;;;;IAG3C;IAEA,MAAM,QAAQ,MAAM,OAAO,IAAI,CAAC,IAAW,EAAE,IAAI,KAAK,EAAE;IACxD,IAAI,CAAC,MAAM,QAAQ,CAAC,UAAU;QAC5B,qBACE,6LAAC;YAAI,WAAU;sBACb,cAAA,6LAAC;gBAAE,WAAU;0BAAU;;;;;;;;;;;IAG7B;IAEA,qBACE,6LAAC;QAAI,WAAU;QAAwC,KAAI;;0BAEzD,6LAAC;gBACC,WAAW,CAAC,8HAA8H,EACxI,cAAc,kBAAkB,qCAChC;;kCAEF,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAG,WAAU;0CAAkC;;;;;;0CAChD,6LAAC;gCACC,WAAU;gCACV,SAAS,IAAM,eAAe;0CAC/B;;;;;;;;;;;;kCAKH,6LAAC;wBAAG,WAAU;;4BACX,KAAK,GAAG,CAAC,CAAC,qBACT,6LAAC;8CACC,cAAA,6LAAC;wCACC,SAAS,IAAM,OAAO,IAAI,CAAC,KAAK,IAAI;wCACpC,WAAU;;4CAET,KAAK,IAAI;0DACV,6LAAC;0DAAM,KAAK,KAAK;;;;;;;;;;;;mCANZ,KAAK,GAAG;;;;;0CAUnB,6LAAC;0CACC,cAAA,6LAAC;oCACC,SAAS;oCACT,WAAU;;sDAEV,6LAAC,qKAAgB;;;;;wCAAG;;;;;;;;;;;;;;;;;;;;;;;;YAQ3B,6BACC,6LAAC;gBACC,WAAU;gBACV,SAAS,IAAM,eAAe;;;;;;0BAKlC,6LAAC;gBAAI,WAAU;;kCAEb,6LAAC;wBACC,WAAU;wBACV,SAAS,IAAM,eAAe;kCAC/B;;;;;;oBAIA;;;;;;;;;;;;;AAIT;GA9HwB;;QACY,qIAAO;QAC1B,kJAAS;;;KAFF"}},
    {"offset": {"line": 267, "column": 0}, "map": {"version":3,"sources":["file:///D:/yemendrama/yemendrama/services/newsCategory.service.ts"],"sourcesContent":["import api from \"@/lib/api\";\r\n\r\nexport const getNews = () => api.get(\"/news\");\r\n\r\nexport const getNewsByCategory = (slug: string) =>\r\n  api.get(`/news?category=${slug}`);\r\n\r\nexport const getCategories = () => api.get(\"/news-categories\");\r\n\r\nexport const createCategory = (data: any) => api.post(\"/news-categories\", data);\r\n\r\nexport const updateCategory = (id: number, data: any) =>\r\n  api.put(`/news-categories/${id}`, data);\r\n\r\nexport const deleteCategory = (id: number) =>\r\n  api.delete(`/news-categories/${id}`);\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;AAAA;;AAEO,MAAM,UAAU,IAAM,wHAAG,CAAC,GAAG,CAAC;AAE9B,MAAM,oBAAoB,CAAC,OAChC,wHAAG,CAAC,GAAG,CAAC,CAAC,eAAe,EAAE,MAAM;AAE3B,MAAM,gBAAgB,IAAM,wHAAG,CAAC,GAAG,CAAC;AAEpC,MAAM,iBAAiB,CAAC,OAAc,wHAAG,CAAC,IAAI,CAAC,oBAAoB;AAEnE,MAAM,iBAAiB,CAAC,IAAY,OACzC,wHAAG,CAAC,GAAG,CAAC,CAAC,iBAAiB,EAAE,IAAI,EAAE;AAE7B,MAAM,iBAAiB,CAAC,KAC7B,wHAAG,CAAC,MAAM,CAAC,CAAC,iBAAiB,EAAE,IAAI"}},
    {"offset": {"line": 296, "column": 0}, "map": {"version":3,"sources":["file:///D:/yemendrama/yemendrama/app/admin/newscategories/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect, useState } from \"react\";\r\nimport AdminLayout from \"@/components/admin/AdminLayout\";\r\nimport {\r\n  createCategory,\r\n  updateCategory,\r\n  deleteCategory,\r\n  getCategories,\r\n} from \"@/services/newsCategory.service\"; // ุชุฃูุฏ ุฃู ูุฐุง ุงูู service ูุญุชูู ุนูู ุงูู API ุงูุตุญูุญ\r\n\r\nexport default function AdminNewsCategories() {\r\n  const [categories, setCategories] = useState<any[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [name, setName] = useState(\"\");\r\n  const [editingId, setEditingId] = useState<number | null>(null);\r\n\r\n  // ุฌูุจ ุงูุชุตูููุงุช ูู API\r\n  const fetchCategories = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const res = await getCategories();\r\n      const data = Array.isArray(res.data) ? res.data : res.data.data;\r\n      setCategories(data || []);\r\n    } catch (err) {\r\n      console.error(err);\r\n      setCategories([]);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchCategories();\r\n  }, []);\r\n\r\n  // ุฅูุดุงุก / ุชุนุฏูู ุชุตููู\r\n  const handleCreateOrUpdate = async () => {\r\n    if (!name.trim()) return alert(\"ุฃุฏุฎู ุงุณู ุงูุชุตููู\");\r\n\r\n    try {\r\n      if (editingId) {\r\n        await updateCategory(editingId, { name });\r\n        setEditingId(null);\r\n      } else {\r\n        await createCategory({ name });\r\n      }\r\n      setName(\"\");\r\n      fetchCategories();\r\n    } catch (err) {\r\n      console.error(err);\r\n      alert(\"ุญุฏุซ ุฎุทุฃุ ุญุงูู ูุฑุฉ ุฃุฎุฑู\");\r\n    }\r\n  };\r\n\r\n  // ุชุนุฏูู ุนูุตุฑ\r\n  const handleEdit = (cat: any) => {\r\n    setName(cat.name);\r\n    setEditingId(cat.id);\r\n  };\r\n\r\n  // ุญุฐู ุนูุตุฑ\r\n  const handleDelete = async (id: number) => {\r\n    if (!confirm(\"ูู ุฃูุช ูุชุฃูุฏ ูู ุญุฐู ูุฐุง ุงูุชุตูููุ\")) return;\r\n    try {\r\n      await deleteCategory(id);\r\n      fetchCategories();\r\n    } catch (err) {\r\n      console.error(err);\r\n      alert(\"ุญุฏุซ ุฎุทุฃ ุฃุซูุงุก ุงูุญุฐู\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <AdminLayout>\r\n      <div className=\"p-6\">\r\n        <h2 className=\"text-2xl font-bold mb-4\">ุฅุฏุงุฑุฉ ุชุตูููุงุช ุงูุฃุฎุจุงุฑ</h2>\r\n\r\n        {/* ุฅุถุงูุฉ / ุชุนุฏูู */}\r\n        <div className=\"flex gap-2 mb-6\">\r\n          <input\r\n            placeholder=\"ุงุณู ุงูุชุตููู\"\r\n            value={name}\r\n            onChange={(e) => setName(e.target.value)}\r\n            className=\"p-2 rounded bg-gray-700 text-white\"\r\n          />\r\n          <button\r\n            onClick={handleCreateOrUpdate}\r\n            className=\"bg-red-600 px-4 rounded text-white\"\r\n          >\r\n            {editingId ? \"ุชุนุฏูู\" : \"ุฅุถุงูุฉ\"}\r\n          </button>\r\n          {editingId && (\r\n            <button\r\n              onClick={() => {\r\n                setEditingId(null);\r\n                setName(\"\");\r\n              }}\r\n              className=\"bg-gray-600 px-4 rounded text-white\"\r\n            >\r\n              ุฅูุบุงุก\r\n            </button>\r\n          )}\r\n        </div>\r\n\r\n        {/* ุฌุฏูู ุงูุชุตูููุงุช */}\r\n        {loading ? (\r\n          <p>ุฌุงุฑู ุงูุชุญููู...</p>\r\n        ) : categories.length === 0 ? (\r\n          <p className=\"text-gray-400\">ูุง ุชูุฌุฏ ุชุตูููุงุช ุญุงููุงู</p>\r\n        ) : (\r\n          <table className=\"min-w-full bg-gray-800 text-white rounded-lg\">\r\n            <thead className=\"text-right\">\r\n              <tr>\r\n                <th className=\"p-2\">#</th>\r\n                <th className=\"p-2\">ุงูุงุณู</th>\r\n                <th className=\"p-2\">ุงูุฅุฌุฑุงุกุงุช</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {categories.map((cat, idx) => (\r\n                <tr key={cat.id} className=\"border-t border-gray-700\">\r\n                  <td className=\"p-2\">{idx + 1}</td>\r\n                  <td className=\"p-2\">{cat.name}</td>\r\n                  <td className=\"p-2 flex gap-2\">\r\n                    <button\r\n                      onClick={() => handleEdit(cat)}\r\n                      className=\"bg-yellow-500 px-2 rounded\"\r\n                    >\r\n                      ุชุนุฏูู\r\n                    </button>\r\n                    <button\r\n                      onClick={() => handleDelete(cat.id)}\r\n                      className=\"bg-red-600 px-2 rounded\"\r\n                    >\r\n                      ุญุฐู\r\n                    </button>\r\n                  </td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n        )}\r\n      </div>\r\n    </AdminLayout>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}}]
}